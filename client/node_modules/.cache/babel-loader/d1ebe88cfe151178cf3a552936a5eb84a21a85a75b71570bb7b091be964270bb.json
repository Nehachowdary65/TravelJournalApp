{"ast":null,"code":"import _objectSpread from\"C:/Users/Neha/Documents/Travel journal app/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// client/src/pages/Login.jsx\nimport React from\"react\";import Navbar from\"../components/Navbar\";import\"../styles/login.css\";import axios from\"axios\";import{useContext,useState}from\"react\";import{useNavigate,Link}from\"react-router-dom\";import{AuthContext}from\"../authContext\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){const[credentials,setCredentials]=useState({username:undefined,password:undefined});const{dispatch}=useContext(AuthContext);const navigate=useNavigate();const handleChange=e=>{setCredentials(prev=>_objectSpread(_objectSpread({},prev),{},{[e.target.id]:e.target.value}));};const handleClick=async e=>{e.preventDefault();dispatch({type:\"LOGIN_START\"});try{const res=await axios.post(\"http://localhost:5500/api/users/login\",credentials);dispatch({type:\"LOGIN_SUCCESS\",payload:res.data.details});navigate('/');}catch(err){if(err.response&&err.response.data){/*\r\n                If error response and data exist, \r\n                dispatch LOGIN_FAILURE with error message\r\n                */dispatch({type:\"LOGIN_FAILURE\",payload:err.response.data});}else{/*\r\n                 If no error response or data,\r\n                 dispatch generic error message\r\n                */dispatch({type:\"LOGIN_FAILURE\",payload:\"An error occurred while logging in\"});}}};return/*#__PURE__*/_jsxs(\"div\",{className:\"login\",children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"loginCard\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"center\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Welcome Back!\"}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"txt_field\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"username\",id:\"username\",onChange:handleChange,className:\"lInput\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"txt_field\",children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"password\",id:\"password\",onChange:handleChange,className:\"lInput\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"login_button\",children:/*#__PURE__*/_jsx(\"button\",{className:\"button\",onClick:handleClick,children:\"Login\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"signup_link\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Not registered?\",/*#__PURE__*/_jsx(Link,{to:\"/register\",children:\"Register\"})]})})]})]})})]});}export default Login;","map":{"version":3,"names":["React","Navbar","axios","useContext","useState","useNavigate","Link","AuthContext","jsx","_jsx","jsxs","_jsxs","Login","credentials","setCredentials","username","undefined","password","dispatch","navigate","handleChange","e","prev","_objectSpread","target","id","value","handleClick","preventDefault","type","res","post","payload","data","details","err","response","className","children","placeholder","onChange","onClick","to"],"sources":["C:/Users/Neha/Documents/Travel journal app/client/src/pages/Login.jsx"],"sourcesContent":["// client/src/pages/Login.jsx\r\n\r\nimport React from \"react\";\r\nimport Navbar from \"../components/Navbar\";\r\nimport \"../styles/login.css\";\r\nimport axios from \"axios\";\r\nimport {\r\n    useContext,\r\n    useState\r\n} from \"react\";\r\nimport {\r\n    useNavigate,\r\n    Link\r\n} from \"react-router-dom\";\r\nimport { AuthContext } from \"../authContext\";\r\n\r\nfunction Login() {\r\n    const [credentials, setCredentials] = useState({\r\n        username: undefined,\r\n        password: undefined,\r\n    });\r\n\r\n    const { dispatch } = useContext(AuthContext);\r\n    const navigate = useNavigate();\r\n\r\n    const handleChange = (e) => {\r\n        setCredentials((prev) => ({\r\n            ...prev,\r\n            [e.target.id]: e.target.value\r\n        }));\r\n    };\r\n\r\n    const handleClick = async (e) => {\r\n        e.preventDefault();\r\n        dispatch({ type: \"LOGIN_START\" });\r\n        try {\r\n            const res = await axios.post(\"http://localhost:5500/api/users/login\",\r\n                credentials);\r\n            dispatch({\r\n                type: \"LOGIN_SUCCESS\",\r\n                payload: res.data.details\r\n            });\r\n            navigate('/');\r\n        } catch (err) {\r\n            if (err.response && err.response.data) {\r\n                /*\r\n                If error response and data exist, \r\n                dispatch LOGIN_FAILURE with error message\r\n                */\r\n                dispatch({\r\n                    type: \"LOGIN_FAILURE\",\r\n                    payload: err.response.data\r\n                });\r\n            } else {\r\n                /*\r\n                 If no error response or data,\r\n                 dispatch generic error message\r\n                */\r\n                dispatch({\r\n                    type: \"LOGIN_FAILURE\",\r\n                    payload: \"An error occurred while logging in\"\r\n                });\r\n            }\r\n        }\r\n    };\r\n\r\n\r\n    return (\r\n        <div className=\"login\">\r\n            <Navbar />\r\n            <div className=\"loginCard\">\r\n                <div className=\"center\">\r\n                    <h1>Welcome Back!</h1>\r\n                    <form>\r\n                        <div className=\"txt_field\">\r\n                            <input\r\n                                type=\"text\"\r\n                                placeholder=\"username\"\r\n                                id=\"username\"\r\n                                onChange={handleChange}\r\n                                className=\"lInput\"\r\n                            />\r\n                        </div>\r\n                        <div className=\"txt_field\">\r\n                            <input\r\n                                type=\"password\"\r\n                                placeholder=\"password\"\r\n                                id=\"password\"\r\n                                onChange={handleChange}\r\n                                className=\"lInput\"\r\n                            />\r\n                        </div>\r\n                        <div className=\"login_button\">\r\n                            <button className=\"button\"\r\n                                onClick={handleClick}>\r\n                                Login\r\n                            </button>\r\n                        </div>\r\n                        <div className=\"signup_link\">\r\n                            <p>\r\n                                Not registered?\r\n                                <Link to=\"/register\">Register</Link>\r\n                            </p>\r\n                        </div>\r\n                    </form>\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Login;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}