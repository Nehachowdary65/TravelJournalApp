{"ast":null,"code":"// client/src/pages/Home.jsx\nimport React,{useContext,useState}from'react';import Navbar from'../components/Navbar';import{faMagnifyingGlass}from\"@fortawesome/free-solid-svg-icons\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import useFetch from\"../useFetch\";import{AuthContext}from'../authContext';import'../styles/home.css';import Card from'../components/Card';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Home=()=>{var _search;const[query,setQuery]=useState(\"\");const{user}=useContext(AuthContext);const{data,loading}=useFetch(\"/entries/author/\".concat(user._id));const keys=[\"title\",\"location\",\"date\"];const search=data=>{return data.filter(item=>keys.some(key=>item[key]&&item[key].toLowerCase().includes(query)));};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"search\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"searchBar\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Explore\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"searchInput\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search places or dates\",onChange:e=>setQuery(e.target.value)}),/*#__PURE__*/_jsx(FontAwesomeIcon,{className:\"icon\",icon:faMagnifyingGlass})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"searchedPosts\",children:loading?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"p\",style:{color:\"white\",\"fontFamily\":\"'Kaushan Script', cursive\"},children:\"Loading...\"})}):/*#__PURE__*/_jsx(_Fragment,{children:(_search=search(data))===null||_search===void 0?void 0:_search.map((item,i)=>/*#__PURE__*/_jsx(Card,{// Remember to add a unique key\n_id:item._id,photos:item.photos,title:item.title,date:item.date,location:item.location,text:item.text},i))})})]});};export default Home;","map":{"version":3,"names":["React","useContext","useState","Navbar","faMagnifyingGlass","FontAwesomeIcon","useFetch","AuthContext","Card","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Home","_search","query","setQuery","user","data","loading","concat","_id","keys","search","filter","item","some","key","toLowerCase","includes","children","className","type","placeholder","onChange","e","target","value","icon","style","color","map","i","photos","title","date","location","text"],"sources":["C:/Users/Neha/Documents/Travel journal app/client/src/pages/Home.jsx"],"sourcesContent":["// client/src/pages/Home.jsx\r\n\r\nimport React, {\r\n    useContext,\r\n    useState\r\n} from 'react'\r\nimport Navbar from '../components/Navbar'\r\nimport {\r\n    faMagnifyingGlass\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport {\r\n    FontAwesomeIcon\r\n} from \"@fortawesome/react-fontawesome\";\r\nimport useFetch from \"../useFetch\"\r\nimport {\r\n    AuthContext\r\n} from '../authContext';\r\nimport '../styles/home.css'\r\nimport Card from '../components/Card';\r\n\r\nconst Home = () => {\r\n    const [query, setQuery] = useState(\"\");\r\n    const { user } = useContext(AuthContext)\r\n    const { data, loading } = useFetch(\r\n        `/entries/author/${user._id}`)\r\n\r\n    const keys = [\"title\", \"location\", \"date\"];\r\n\r\n    const search = (data) => {\r\n        return data.filter((item) =>\r\n            keys.some((key) => item[key] &&\r\n                item[key].toLowerCase().includes(query))\r\n        );\r\n    };\r\n\r\n\r\n    return (\r\n        <div>\r\n            <Navbar />\r\n            <div className=\"search\">\r\n                <div className=\"searchBar\">\r\n                    <h2>Explore</h2>\r\n                    <div className=\"searchInput\">\r\n                        <input\r\n                            type=\"text\"\r\n                            placeholder=\"Search places or dates\"\r\n                            onChange={(e) => setQuery(e.target.value)}\r\n                        />\r\n                        <FontAwesomeIcon\r\n                            className=\"icon\"\r\n                            icon={faMagnifyingGlass} />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"searchedPosts\">\r\n                {loading ? (\r\n                    <>\r\n                        <div className=\"p\"\r\n                            style={{\r\n                                color: \"white\", \"fontFamily\":\r\n                                    \"'Kaushan Script', cursive\"\r\n                            }}>\r\n                            Loading...\r\n                        </div>\r\n                    </>\r\n                ) : (\r\n                    <>\r\n                        {search(data)?.map((item, i) => (\r\n                            <Card\r\n                                key={i} // Remember to add a unique key\r\n                                _id={item._id}\r\n                                photos={item.photos}\r\n                                title={item.title}\r\n                                date={item.date}\r\n                                location={item.location}\r\n                                text={item.text}\r\n                            />\r\n                        ))}\r\n                    </>\r\n                )}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Home"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}