{"ast":null,"code":"// client/src/pages/View.jsx\nimport React,{useContext,useState}from'react';import Navbar from'../components/Navbar';import useFetch from'../useFetch';import{faCalendar,faMapLocationDot,faCircleArrowLeft,faCircleArrowRight}from\"@fortawesome/free-solid-svg-icons\";import{useLocation,useNavigate}from\"react-router-dom\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import\"../styles/view.css\";import axios from\"axios\";import{AuthContext}from\"../authContext\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const View=()=>{const location=useLocation();const id=location.pathname.split(\"/\")[2];const{user}=useContext(AuthContext);const{data}=useFetch(\"/entries/\".concat(id));const[slideNumber,setSlideNumber]=useState(0);const navigate=useNavigate();const handleDelete=async id=>{try{await axios.delete(\"http://localhost:5500/api/entries/\".concat(data._id));navigate('/');}catch(err){console.log(err);}};const handleMove=direction=>{let newSlideNumber;let size=data.photos.length;if(direction===\"l\"){newSlideNumber=slideNumber===0?size-1:slideNumber-1;}else{newSlideNumber=slideNumber===size-1?0:slideNumber+1;}setSlideNumber(newSlideNumber);};return/*#__PURE__*/_jsxs(\"div\",{className:\"view\",children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"postPageBG\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"upperContent\",children:[/*#__PURE__*/_jsx(\"h1\",{children:data.title}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{className:\"icon\",icon:faCalendar}),data.date]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{className:\"icon\",icon:faMapLocationDot}),data.location]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"postContainer\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"leftContainer\",children:data.photos?/*#__PURE__*/_jsxs(\"div\",{className:\"images\",children:[/*#__PURE__*/_jsx(\"img\",{src:data.photos[slideNumber],height:\"300px\",alt:\"\"}),data.photos.length>1?/*#__PURE__*/_jsxs(\"div\",{className:\"arrows\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faCircleArrowLeft,className:\"arrow\",onClick:()=>handleMove(\"l\")}),/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faCircleArrowRight,className:\"arrow\",onClick:()=>handleMove(\"r\")})]}):\"\"]}):\"no Images\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"rightContainer\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"\\\" \",data.text,\" \\\"\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"del_button\",style:{\"marginRight\":\"5px\"},onClick:handleDelete,children:\"Delete\"})]})]})]});};export default View;","map":{"version":3,"names":["React","useContext","useState","Navbar","useFetch","faCalendar","faMapLocationDot","faCircleArrowLeft","faCircleArrowRight","useLocation","useNavigate","FontAwesomeIcon","axios","AuthContext","jsx","_jsx","jsxs","_jsxs","View","location","id","pathname","split","user","data","concat","slideNumber","setSlideNumber","navigate","handleDelete","delete","_id","err","console","log","handleMove","direction","newSlideNumber","size","photos","length","className","children","title","icon","date","src","height","alt","onClick","text","style"],"sources":["C:/Users/Neha/Documents/Travel journal app/client/src/pages/View.jsx"],"sourcesContent":["// client/src/pages/View.jsx\r\n\r\nimport React, {\r\n    useContext,\r\n    useState\r\n} from 'react'\r\nimport Navbar from '../components/Navbar'\r\nimport useFetch from '../useFetch'\r\nimport {\r\n    faCalendar,\r\n    faMapLocationDot,\r\n    faCircleArrowLeft,\r\n    faCircleArrowRight\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport {\r\n    useLocation,\r\n    useNavigate\r\n} from \"react-router-dom\";\r\nimport {\r\n    FontAwesomeIcon\r\n} from \"@fortawesome/react-fontawesome\";\r\nimport \"../styles/view.css\"\r\nimport axios from \"axios\";\r\nimport { AuthContext } from \"../authContext\";\r\n\r\nconst View = () => {\r\n    const location = useLocation();\r\n    const id = location.pathname.split(\"/\")[2];\r\n    const { user } = useContext(AuthContext);\r\n    const { data } = useFetch(`/entries/${id}`)\r\n    const [slideNumber, setSlideNumber] = useState(0);\r\n\r\n    const navigate = useNavigate();\r\n\r\n    const handleDelete = async (id) => {\r\n        try {\r\n\r\n            await axios.delete(`http://localhost:5500/api/entries/${data._id}`)\r\n\r\n            navigate('/')\r\n        } catch (err) {\r\n            console.log(err)\r\n        }\r\n    };\r\n\r\n    const handleMove = (direction) => {\r\n        let newSlideNumber;\r\n        let size = data.photos.length\r\n        if (direction === \"l\") {\r\n            newSlideNumber = slideNumber === 0 ? size - 1 : slideNumber - 1;\r\n        } else {\r\n            newSlideNumber = slideNumber === size - 1 ? 0 : slideNumber + 1;\r\n        }\r\n        setSlideNumber(newSlideNumber)\r\n    }\r\n\r\n    return (\r\n        <div className='view'>\r\n            <Navbar />\r\n            <div className=\"postPageBG\">\r\n                <div className=\"upperContent\">\r\n                    <h1>{data.title}</h1>\r\n                    <p><FontAwesomeIcon className=\"icon\"\r\n                        icon={faCalendar} />\r\n                        {data.date}\r\n                    </p>\r\n                    <p><FontAwesomeIcon className=\"icon\"\r\n                        icon={faMapLocationDot} />\r\n                        {data.location}\r\n                    </p>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"postContainer\">\r\n\r\n                <div className=\"leftContainer\">\r\n\r\n\r\n                    {data.photos ? (<div className=\"images\">\r\n\r\n\r\n                        <img src={data.photos[slideNumber]}\r\n                            height=\"300px\" alt=\"\" />\r\n\r\n                        {data.photos.length > 1 ? <div className=\"arrows\">\r\n                            <FontAwesomeIcon\r\n                                icon={faCircleArrowLeft}\r\n                                className=\"arrow\"\r\n                                onClick={() => handleMove(\"l\")}\r\n                            />\r\n                            <FontAwesomeIcon\r\n                                icon={faCircleArrowRight}\r\n                                className=\"arrow\"\r\n                                onClick={() => handleMove(\"r\")}\r\n                            />\r\n                        </div> : \"\"}\r\n                    </div>) : (\"no Images\")}\r\n\r\n                </div>\r\n\r\n                <div className=\"rightContainer\">\r\n\r\n                    <p>\r\n                        \" {data.text} \"\r\n                    </p>\r\n                    <button className=\"del_button\"\r\n                        style={{ \"marginRight\": \"5px\" }}\r\n                        onClick={handleDelete}>\r\n                        Delete\r\n                    </button>\r\n\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default View"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}