{"ast":null,"code":"import _objectSpread from\"C:/Users/Neha/Documents/Travel journal app/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// client/src/pages/Register.jsx\nimport React from\"react\";import Navbar from\"../components/Navbar\";import\"../styles/register.css\";import{faPlusCircle}from\"@fortawesome/free-solid-svg-icons\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{Link}from\"react-router-dom\";import{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import axios from\"axios\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Register(){const navigate=useNavigate();const[file,setFile]=useState(\"\");const[info,setInfo]=useState({});const handleChange=e=>{setInfo(prev=>_objectSpread(_objectSpread({},prev),{},{[e.target.id]:e.target.value}));};const handleClick=async e=>{e.preventDefault();if(file){const data=new FormData();data.append(\"file\",file);data.append(\"upload_preset\",\"upload\");try{const uploadRes=await axios.post(\"https://api.cloudinary.com/v1_1/<your_cloudinary_key>/image/upload\",data,{withcredentials:false});const{url}=uploadRes.data;const newUser=_objectSpread(_objectSpread({},info),{},{profilePicture:url});await axios.post(\"http://localhost:5500/api/users/register\",newUser,{withcredentials:false});navigate(\"/login\");}catch(err){console.log(err);}}else{try{await axios.post(\"http://localhost:5500/api/users/register\",info,{withcredentials:false});navigate(\"/login\");}catch(err){console.log(err);}}};return/*#__PURE__*/_jsxs(\"div\",{className:\"register\",children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"registerCard\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"center\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Join Us\"}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"image\",children:[/*#__PURE__*/_jsx(\"img\",{src:file?URL.createObjectURL(file):\"https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg\",alt:\"\",height:\"100px\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"txt_field_img\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"file\",children:[\"Image\",/*#__PURE__*/_jsx(FontAwesomeIcon,{className:\"icon\",icon:faPlusCircle})]}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"file\",onChange:e=>setFile(e.target.files[0]),style:{display:\"none\"}})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"formInput\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"txt_field\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"username\",name:\"username\",onChange:handleChange,id:\"username\",required:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"txt_field\",children:/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"email\",name:\"email\",onChange:handleChange,id:\"email\",required:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"txt_field\",children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"password\",name:\"password\",onChange:handleChange,id:\"password\"//   value={data.password}\n,required:true})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"login_button\",children:/*#__PURE__*/_jsx(\"button\",{className:\"button\",onClick:handleClick,children:\"Register\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"signup_link\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Already Registered?\",/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Login\"})]})})]})]})})]});}export default Register;","map":{"version":3,"names":["React","Navbar","faPlusCircle","FontAwesomeIcon","Link","useState","useNavigate","axios","jsx","_jsx","jsxs","_jsxs","Register","navigate","file","setFile","info","setInfo","handleChange","e","prev","_objectSpread","target","id","value","handleClick","preventDefault","data","FormData","append","uploadRes","post","withcredentials","url","newUser","profilePicture","err","console","log","className","children","src","URL","createObjectURL","alt","height","htmlFor","icon","type","onChange","files","style","display","placeholder","name","required","onClick","to"],"sources":["C:/Users/Neha/Documents/Travel journal app/client/src/pages/Register.jsx"],"sourcesContent":["// client/src/pages/Register.jsx\r\n\r\nimport React from \"react\";\r\nimport Navbar from \"../components/Navbar\";\r\nimport \"../styles/register.css\";\r\nimport {\r\n    faPlusCircle\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport {\r\n    FontAwesomeIcon\r\n} from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n    Link\r\n} from \"react-router-dom\";\r\nimport {\r\n    useState\r\n} from \"react\";\r\nimport {\r\n    useNavigate\r\n} from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\nfunction Register() {\r\n    const navigate = useNavigate();\r\n\r\n    const [file, setFile] = useState(\"\");\r\n    const [info, setInfo] = useState({});\r\n\r\n    const handleChange = (e) => {\r\n        setInfo((prev) => ({ ...prev, [e.target.id]: e.target.value }));\r\n    };\r\n\r\n    const handleClick = async (e) => {\r\n        e.preventDefault();\r\n\r\n        if (file) {\r\n            const data = new FormData();\r\n\r\n            data.append(\"file\", file);\r\n            data.append(\"upload_preset\", \"upload\");\r\n\r\n\r\n            try {\r\n                const uploadRes = await axios.post(\r\n                    \"https://api.cloudinary.com/v1_1/<your_cloudinary_key>/image/upload\",\r\n                    data, { withcredentials: false }\r\n                );\r\n\r\n                const { url } = uploadRes.data;\r\n\r\n                const newUser = {\r\n                    ...info,\r\n                    profilePicture: url,\r\n                };\r\n\r\n                await axios.post(\"http://localhost:5500/api/users/register\",\r\n                    newUser, { withcredentials: false })\r\n\r\n                navigate(\"/login\");\r\n            } catch (err) {\r\n                console.log(err);\r\n            }\r\n        } else {\r\n            try {\r\n                await axios.post(\"http://localhost:5500/api/users/register\",\r\n                    info, { withcredentials: false })\r\n\r\n                navigate(\"/login\");\r\n            } catch (err) {\r\n                console.log(err)\r\n            }\r\n        }\r\n    };\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"register\">\r\n            <Navbar />\r\n            <div className=\"registerCard\">\r\n                <div className=\"center\">\r\n                    <h1>Join Us</h1>\r\n\r\n                    <form>\r\n                        <div className=\"image\">\r\n                            <img\r\n                                src={\r\n                                    file\r\n                                        ? URL.createObjectURL(file)\r\n                                        : \"https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg\"\r\n                                }\r\n                                alt=\"\"\r\n                                height=\"100px\"\r\n                            />\r\n\r\n                            <div className=\"txt_field_img\">\r\n                                <label htmlFor=\"file\">\r\n                                    Image\r\n                                    <FontAwesomeIcon className=\"icon\"\r\n                                        icon={faPlusCircle} />\r\n                                </label>\r\n                                <input\r\n                                    type=\"file\"\r\n                                    id=\"file\"\r\n                                    onChange={(e) => setFile(e.target.files[0])}\r\n                                    style={{ display: \"none\" }}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"formInput\">\r\n\r\n\r\n                            <div className=\"txt_field\">\r\n                                <input\r\n                                    type=\"text\"\r\n                                    placeholder=\"username\"\r\n                                    name=\"username\"\r\n                                    onChange={handleChange}\r\n                                    id=\"username\"\r\n                                    required\r\n                                />\r\n                            </div>\r\n                            <div className=\"txt_field\">\r\n                                <input\r\n                                    type=\"email\"\r\n                                    placeholder=\"email\"\r\n                                    name=\"email\"\r\n                                    onChange={handleChange}\r\n                                    id=\"email\"\r\n                                    required\r\n                                />\r\n                            </div>\r\n                            <div className=\"txt_field\">\r\n                                <input\r\n                                    type=\"password\"\r\n                                    placeholder=\"password\"\r\n                                    name=\"password\"\r\n                                    onChange={handleChange}\r\n                                    id=\"password\"\r\n                                    //   value={data.password}\r\n                                    required\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"login_button\">\r\n                            <button className=\"button\"\r\n                                onClick={handleClick}>\r\n                                Register\r\n                            </button>\r\n                        </div>\r\n                        <div className=\"signup_link\">\r\n                            <p>\r\n                                Already Registered?\r\n                                <Link to=\"/login\">Login</Link>\r\n                            </p>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Register;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}